(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(5155),l=s(2115),n=s(8999);function r(){let e=(0,n.useRouter)(),[t,s]=(0,l.useState)(""),[r,i]=(0,l.useState)(""),[o,u]=(0,l.useState)(""),c=async s=>{s.preventDefault(),u("");try{let s=await fetch("/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:t,password:r})});if(s.ok){let t=await s.json();"admin"===t.role?e.push("/admin"):"student"===t.role?e.push("/student"):u("Unknown role.")}else{let e=await s.json();u(e.error||"Login failed.")}}catch(e){u("Something went wrong.")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:(0,a.jsxs)("form",{onSubmit:c,className:"bg-slate-800 p-6 rounded shadow max-w-sm w-full",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4 text-center",children:"Login Portal"}),o&&(0,a.jsx)("p",{className:"mb-4 text-red-400 text-center",children:o}),(0,a.jsxs)("label",{className:"block mb-2",children:["Username",(0,a.jsx)("input",{className:"w-full p-2 mt-1 rounded text-black",value:t,onChange:e=>s(e.target.value),required:!0})]}),(0,a.jsxs)("label",{className:"block mb-4",children:["Password",(0,a.jsx)("input",{type:"password",className:"w-full p-2 mt-1 rounded text-black",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-2 bg-purple-600 hover:bg-purple-700 rounded transition",children:"Login"})]})})}},2044:(e,t,s)=>{Promise.resolve().then(s.bind(s,127))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2044)),_N_E=e.O()}]);