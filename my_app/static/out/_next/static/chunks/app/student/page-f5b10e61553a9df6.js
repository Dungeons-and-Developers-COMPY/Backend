(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{817:(e,t,s)=>{"use strict";s.r(t),s.d(t,{StudentDashboard:()=>o,default:()=>r});var l=s(5155),a=s(2115),n=s(5695);function r(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[u,c]=(0,a.useState)(""),i=async s=>{s.preventDefault(),c("");try{let s=await fetch("/student/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:t,password:r})});if(s.ok){let t=await s.json();localStorage.setItem("username",t.username),"admin"===t.role?e.push("/admin"):"student"===t.role?e.push("/student/dashboard"):c("Unknown role.")}else{let e=await s.json();c(e.error||"Login failed.")}}catch(e){c("Something went wrong.")}};return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-white",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,l.jsx)("img",{src:"/dnd.png",alt:"Dungeons and Developers Logo",className:"w-[300px] h-[300px] object-contain"}),(0,l.jsxs)("form",{onSubmit:i,className:"bg-slate-800 p-6 rounded shadow max-w-sm w-full",children:[(0,l.jsx)("h2",{className:"text-2xl mb-4 text-center",children:"Student Login Portal"}),u&&(0,l.jsx)("p",{className:"mb-4 text-red-400 text-center",children:u}),(0,l.jsxs)("label",{className:"block mb-2",children:["Username",(0,l.jsx)("input",{className:"w-full p-2 mt-1 rounded text-black",value:t,onChange:e=>s(e.target.value),required:!0})]}),(0,l.jsxs)("label",{className:"block mb-4",children:["Password",(0,l.jsx)("input",{type:"password",className:"w-full p-2 mt-1 rounded text-black",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"w-full py-2 bg-purple-600 hover:bg-purple-700 rounded transition",children:"Login"})]})]})})}function o(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)("");useEffect(()=>{let t=localStorage.getItem("username");if(!t){e.push("/login");return}s(t)},[e]);let r=s=>{e.push("/student/".concat(s,"/").concat(t))};return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white p-8",children:[(0,l.jsxs)("h1",{className:"text-3xl mb-8",children:["Welcome, ",t,"!"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("button",{onClick:()=>r("1v1"),className:"block w-full py-4 bg-purple-600 hover:bg-purple-700 rounded text-xl",children:"1v1 Game Mode"}),(0,l.jsx)("button",{onClick:()=>r("2v2"),className:"block w-full py-4 bg-blue-600 hover:bg-blue-700 rounded text-xl",children:"2v2 Game Mode"})]})]})}},5695:(e,t,s)=>{"use strict";var l=s(8999);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},9759:(e,t,s)=>{Promise.resolve().then(s.bind(s,817))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9759)),_N_E=e.O()}]);